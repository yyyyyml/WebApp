<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Search</title>
</head>

<body>
    <h1>搜索结果</h1>
    <a href="{{ url_for('index_ctrl.index') }}">回到首页</a>
    <a href="{{ url_for('auth_ctrl.logout', username=username) }}">退出登录</a>
    <form action="{{ url_for('result_ctrl.search_results') }}" method="get">
        <input type="text" name="q" placeholder="Search...">
        <input type="hidden" name="pn" value="1">
        <select name="search_type">
            <option value="web">Web</option>
            <option value="literature">文献</option>
        </select>
        <input type="submit" value="Search">
    </form>

    <dl>
        {% for key,value in dic.items() %}
        <a href='/browse?url={{value["url"]}}&search_type={{search_type}}&username={{username}}&title={{value["title"]}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>{{value["title"]}}</a>
        &nbsp
        <a href='/good?url={{value["url"]}}&title={{value["title"]}}&query={{query}}&search_type={{search_type}}&pn={{pn}}&username={{username}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>赞</a>
        &nbsp
        <a href='/bad?url={{value["url"]}}&title={{value["title"]}}&query={{query}}&search_type={{search_type}}&pn={{pn}}&username={{username}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>踩</a>
        &nbsp
        <a
            href='/favorite?url={{value["url"]}}&title={{value["title"]}}&query={{query}}&search_type={{search_type}}&pn={{pn}}&username={{username}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>收藏</a>
        <dd>{{value["des"]}}</dd>
        <dd>{{value["origin"],value["time"]}}</dd>
        <br>
        {% endfor %}
    </dl>

    <ul>
        <h2>相关推荐</h2>
        {% for key,value in relate.items() %}
        <a href="/rela_results?str={{value}}">{{value}}</a>
        {% endfor %}
    </ul>

        <h2>点赞数前三的结果</h2>
        <dl>
        {% for key,value in dlike.items() %}
        <a href='/browse?url={{value["url"]}}&search_type={{search_type}}&username={{username}}&title={{value["title"]}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>{{value["title"]}}</a>
        &nbsp
        <a href='/good?url={{value["url"]}}&title={{value["title"]}}&query={{query}}&search_type={{search_type}}&pn={{pn}}&username={{username}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>赞</a>
        &nbsp
        <a href='/bad?url={{value["url"]}}&title={{value["title"]}}&query={{query}}&search_type={{search_type}}&pn={{pn}}&username={{username}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>踩</a>
        &nbsp
        <a
            href='/favorite?url={{value["url"]}}&title={{value["title"]}}&query={{query}}&search_type={{search_type}}&pn={{pn}}&username={{username}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>收藏</a>
        <dd>{{value["des"]}}</dd>
        <dd>{{value["origin"],value["time"]}}</dd>
        <br>
        {% endfor %}
    </dl>

        <h2>收藏数前三的结果</h2>
        <dl>
        {% for key,value in dfav.items() %}
        <a href='/browse?url={{value["url"]}}&search_type={{search_type}}&username={{username}}&title={{value["title"]}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>{{value["title"]}}</a>
        &nbsp
        <a href='/good?url={{value["url"]}}&title={{value["title"]}}&query={{query}}&search_type={{search_type}}&pn={{pn}}&username={{username}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>赞</a>
        &nbsp
        <a href='/bad?url={{value["url"]}}&title={{value["title"]}}&query={{query}}&search_type={{search_type}}&pn={{pn}}&username={{username}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>踩</a>
        &nbsp
        <a
            href='/favorite?url={{value["url"]}}&title={{value["title"]}}&query={{query}}&search_type={{search_type}}&pn={{pn}}&username={{username}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>收藏</a>
        <dd>{{value["des"]}}</dd>
        <dd>{{value["origin"],value["time"]}}</dd>
        <br>
        {% endfor %}
    </dl>

        <h2>浏览数前三的结果</h2>
        <dl>
        {% for key,value in dbr.items() %}
        <a href='/browse?url={{value["url"]}}&search_type={{search_type}}&username={{username}}&title={{value["title"]}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>{{value["title"]}}</a>
        &nbsp
        <a href='/good?url={{value["url"]}}&title={{value["title"]}}&query={{query}}&search_type={{search_type}}&pn={{pn}}&username={{username}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>赞</a>
        &nbsp
        <a href='/bad?url={{value["url"]}}&title={{value["title"]}}&query={{query}}&search_type={{search_type}}&pn={{pn}}&username={{username}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>踩</a>
        &nbsp
        <a
            href='/favorite?url={{value["url"]}}&title={{value["title"]}}&query={{query}}&search_type={{search_type}}&pn={{pn}}&username={{username}}&origin={{value["origin"]}}&snippet={{value["snippet"]}}&time_origin={{value["time"]}}'>收藏</a>
        <dd>{{value["des"]}}</dd>
        <dd>{{value["origin"],value["time"]}}</dd>
        <br>
        {% endfor %}
    </dl>

    <a href="{{ url_for('result_ctrl.search_results',q=query,search_type=search_type,pn=(pn+1)) }}">下一页</a>
    <a href="{{ url_for('result_ctrl.search_results',q=query,search_type=search_type,pn=(pn-1)) }}">上一页</a>
</body>

</html>